timeslot(1,"07:30").  timeslot(2,"07:40").  timeslot(3,"07:50").  timeslot(4,"08:00").  timeslot(5,"08:10").  timeslot(6,"08:20").  timeslot(7,"08:30").  timeslot(8,"08:40").  timeslot(9,"08:50").  timeslot(10,"09:00").  timeslot(11,"09:10").  timeslot(12,"09:20").  timeslot(13,"09:30").  timeslot(14,"09:40").  timeslot(15,"09:50").  timeslot(16,"10:00").  timeslot(17,"10:10").  timeslot(18,"10:20").  timeslot(19,"10:30").  timeslot(20,"10:40").  timeslot(21,"10:50").  timeslot(22,"11:00").  timeslot(23,"11:10").  timeslot(24,"11:20").  timeslot(25,"11:30").  timeslot(26,"11:40").  timeslot(27,"11:50").  timeslot(28,"12:00").  timeslot(29,"12:10").  timeslot(30,"12:20").  timeslot(31,"12:30").  timeslot(32,"12:40").  timeslot(33,"12:50").  timeslot(34,"13:00").  timeslot(35,"13:10").  timeslot(36,"13:20").  timeslot(37,"13:30").  
day(1,"01/01/2022").  day(2,"02/01/2022").  day(3,"03/01/2022").  day(4,"04/01/2022").  day(5,"05/01/2022").  day(6,"06/01/2022").  day(7,"07/01/2022").  
1 <= {assignment(registration(patient(X_741f594c_51ea_4dc7_ac47_0799c0bfe52f),0),day(X_bd026f7e_8887_42e4_837e_5adff154b527),timeslot(X_2cd1d636_c92b_4962_8949_9fa58054ef5a)):day(X_bd026f7e_8887_42e4_837e_5adff154b527,_), timeslot(X_2cd1d636_c92b_4962_8949_9fa58054ef5a,_)} <= 1 :- registration(patient(X_741f594c_51ea_4dc7_ac47_0799c0bfe52f),0,_,_,_,_,_).
1 <= {assignment(registration(patient(P),OR),day(D+W),timeslot(X_589d8dda_2c75_4854_93e2_69ce18881859)):timeslot(X_589d8dda_2c75_4854_93e2_69ce18881859,_)} <= 1 :- registration(patient(P),OR,W,_,_,_,_), assignment(registration(patient(P),OR-1),day(D),timeslot(_)), day(D+W,_).
1 <= {position_in(patient(P),S):seat(S,_)} <= 1 :- patient(P,_), assignment(registration(patient(P),_),day(D),timeslot(T)), registration(patient(P),_,_,_,_,_,PH4), PH4 > 0.
position_in(patient(P),S,timeslot(T),day(D)) :- support(patient(P),S,timeslot(T),day(D)), position_in(patient(P),S).
support(patient(P),S,timeslot(T..T+PH4-1),day(D)) :- position_in(patient(P),S), patient(P,_), assignment(registration(patient(P),_),day(D),timeslot(T)), registration(patient(P),_,_,_,_,_,PH4).
:- registration(patient(X_95a3ab4a_b260_4773_8b21_d74a10795e75),X_95de2311_814d_42ce_81cb_191d341229dd,_,X_6a5c3863_aa8d_459e_bcf7_da2de3f586e0,X_d20eda83_8f8c_46e4_8cb9_8f5b2f444790,X_6d6453b2_d509_4869_a3fe_5e536f636877,_), assignment(registration(patient(X_95a3ab4a_b260_4773_8b21_d74a10795e75),X_95de2311_814d_42ce_81cb_191d341229dd),day(_),timeslot(T)), T <= X_6a5c3863_aa8d_459e_bcf7_da2de3f586e0 + X_d20eda83_8f8c_46e4_8cb9_8f5b2f444790 + X_6d6453b2_d509_4869_a3fe_5e536f636877.
:- day(D,_), timeslot(TS,_), seat(S,_), #count{X_8c105e8b_bde7_4642_bb3c_bd2b55ddcb74: position_in(patient(X_8c105e8b_bde7_4642_bb3c_bd2b55ddcb74),S,timeslot(TS),day(D))} >= 2.
:- registration(patient(X_ad55cac6_882e_4d7f_8c09_9e9a607dcfbb),X_d0225e02_218c_4df9_afca_d8c041aa75fa,_,_,_,_,X_fb4f0745_09c6_4b4b_a513_ff55a373d4ba), assignment(registration(patient(X_ad55cac6_882e_4d7f_8c09_9e9a607dcfbb),X_d0225e02_218c_4df9_afca_d8c041aa75fa),day(_),timeslot(X_f79c1873_ca15_46da_8255_6032ffd01fbd)), X_fb4f0745_09c6_4b4b_a513_ff55a373d4ba > 50, X_f79c1873_ca15_46da_8255_6032ffd01fbd < 24.
:~ seat(X_69b7c297_2424_4ae2_b2c8_2ee0a6d62d03,T), patient(X_c84ead30_0fb3_4394_ab4d_092aa574133a,T), position_in(patient(X_c84ead30_0fb3_4394_ab4d_092aa574133a),X_69b7c297_2424_4ae2_b2c8_2ee0a6d62d03,timeslot(_),day(_)). [-1@3, X_c84ead30_0fb3_4394_ab4d_092aa574133a]
